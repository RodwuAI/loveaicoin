(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{928:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(5155),l=s(2115),n=s(2619),i=s.n(n),c=s(6707),r=s(5955),d=s(4034),o=s(5223),x=s(7737),m=s(7621);let h=[{type:"学习",course:"AI基础入门",amount:"+50",date:"2026-02-21"},{type:"签到",course:"每日签到",amount:"+10",date:"2026-02-21"},{type:"学习",course:"区块链入门",amount:"+80",date:"2026-02-20"},{type:"签到",course:"每日签到",amount:"+15",date:"2026-02-20"},{type:"教导",course:"DeFi答疑",amount:"+120",date:"2026-02-19"}];function u(){var e,t,s,n,u;let{isLoggedIn:g,token:y,logout:b,loading:v}=(0,c.A)(),{publicKey:j,connected:f}=(0,r.v)(),{connection:N}=(0,d.w)(),[p,D]=(0,l.useState)(null),[w,S]=(0,l.useState)(null),[k,_]=(0,l.useState)(!1),[C,O]=(0,l.useState)(!0),[P,T]=(0,l.useState)(""),[A,J]=(0,l.useState)(null),[E,L]=(0,l.useState)(""),[F,B]=(0,l.useState)([]),[z,Q]=(0,l.useState)(!1),[q,I]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(!g||!y)return void O(!1);(async()=>{try{let e=await m.H1.getProfile(y);D(e),e.id&&(M(e.id),K(e.id),H(e.id))}catch(e){e.message.includes("401")?b():T(e.message||"加载用户信息失败")}finally{O(!1)}})()},[g,y,b]);let M=async e=>{Q(!0);try{let t=await m.LQ.getStats(e);J(t)}catch(e){console.error("获取邀请统计失败:",e.message)}finally{Q(!1)}},H=async e=>{try{let t=await m.LQ.getInviteCode(e);L(t.invite_code||"")}catch(e){console.error("获取邀请码失败:",e.message)}},K=async e=>{I(!0);try{let t=await m.Qn.list(e);B(t.achievements||[])}catch(e){console.error("获取成就失败:",e.message)}finally{I(!1)}},U=async()=>{if(null==p?void 0:p.id)try{let e=await m.LQ.generate(p.id);L(e.invite_code||""),alert("新邀请码已生成！")}catch(e){alert("生成邀请码失败："+e.message)}};return((0,l.useEffect)(()=>{f&&j?(async()=>{_(!0);try{let e=await N.getBalance(j);S(e/o.Sr)}catch(e){console.error("获取SOL余额失败:",e)}finally{_(!1)}})():S(null)},[f,j,N]),g)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("section",{className:"pt-32 pb-16 lg:pb-20 bg-gradient-to-b from-white to-surface",children:(0,a.jsx)("div",{className:"max-w-[1200px] mx-auto px-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-gold-pale to-gold/[0.15] border-4 border-gold-light flex items-center justify-center text-4xl",children:"\uD83E\uDDD1‍\uD83D\uDCBB"}),(0,a.jsx)("div",{className:"text-center sm:text-left",children:C?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"h-10 bg-gray-200 rounded-lg mb-2 animate-pulse"}),(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded-lg animate-pulse"})]}):P?(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl lg:text-[40px] font-black text-navy leading-tight mb-2",children:"加载失败"}),(0,a.jsx)("div",{className:"text-sm text-red-500",children:P})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"text-3xl lg:text-[40px] font-black text-navy leading-tight mb-2",children:(null==p?void 0:p.username)||"LAC Explorer"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-wrap justify-center sm:justify-start",children:[(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-gold/10 rounded-full text-sm font-semibold text-gold",children:["⭐ Lv.",(null==p?void 0:p.level)||1]}),(null==p?void 0:p.wallet)&&(0,a.jsxs)("span",{className:"text-sm text-gray-400",children:[p.wallet.slice(0,6),"...",p.wallet.slice(-4)]}),(0,a.jsxs)("span",{className:"text-sm text-gray-400",children:["加入于 ",(null==p?void 0:p.created_at)?new Date(p.created_at).toLocaleDateString():"2026-02-21"]}),(0,a.jsx)("button",{onClick:b,className:"text-sm text-red-500 hover:text-red-700",children:"退出登录"})]})]})})]})})}),(0,a.jsx)("section",{className:"py-12 lg:py-16",children:(0,a.jsx)("div",{className:"max-w-[1200px] mx-auto px-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,a.jsxs)("div",{className:"card p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-navy",children:"\uD83D\uDD17 钱包连接"}),(0,a.jsx)(x.A,{size:"sm"})]}),f&&j?(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-green-100 flex items-center justify-center text-xl",children:"✅"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-navy",children:(u=j.toString())?"".concat(u.slice(0,6),"...").concat(u.slice(-6)):""}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Solana钱包"}),(0,a.jsx)("button",{onClick:()=>navigator.clipboard.writeText(j.toString()),className:"text-xs text-gold hover:text-gold-light mt-1",children:"点击复制完整地址"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-purple-100 flex items-center justify-center text-xl",children:"\uD83D\uDC8E"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg font-black text-navy",children:k?(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded animate-pulse"}):"".concat((null==w?void 0:w.toFixed(4))||"0.0000"," SOL")}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"钱包余额"})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center text-3xl mx-auto mb-4",children:"\uD83D\uDC5B"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-navy mb-2",children:"未连接钱包"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4 max-w-md mx-auto",children:"连接您的Solana钱包以查看余额和进行链上操作"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"支持 Phantom、Solflare、Backpack 等钱包"})]})]}),(0,a.jsxs)("div",{className:"card p-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-navy mb-6",children:"\uD83D\uDCB0 资产概览"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-black gold-text mb-2",children:(null==p||null==(e=p.lac_balance)?void 0:e.toLocaleString())||"0"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"总LAC余额"}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"数据库余额"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-black text-navy mb-2",children:(null==p||null==(t=p.monthly_earned)?void 0:t.toLocaleString())||"0"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"本月获得"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-black text-green-500 mb-2",children:(null==p?void 0:p.growth_rate)?"+".concat(p.growth_rate,"%"):"+0%"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"月增长率"})]})]})]}),(0,a.jsxs)("div",{className:"card p-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-navy mb-6",children:"\uD83C\uDF93 学习成就"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-surface flex items-center justify-center text-xl",children:"\uD83D\uDCDA"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-black text-navy",children:[(null==p?void 0:p.completed_courses)||0,"/",(null==p?void 0:p.total_courses)||5]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"已完成课程"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-surface flex items-center justify-center text-xl",children:"⏱️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-black text-navy",children:(null==p?void 0:p.total_study_time)||0}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"学习总时长（分钟）"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-surface flex items-center justify-center text-xl",children:"\uD83C\uDFC6"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-black text-navy",children:(null==p?void 0:p.badges_count)||0}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"获得徽章"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-surface flex items-center justify-center text-xl",children:"\uD83D\uDCCA"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-2xl font-black text-navy",children:["#",(null==p?void 0:p.rank)||"未排名"]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"学习排行榜"})]})]})]})]}),(0,a.jsxs)("div",{className:"card p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-navy",children:"\uD83D\uDCB3 交易记录"}),(0,a.jsx)("button",{onClick:()=>{var e,t;return null==(e=(t=window).__toast)?void 0:e.call(t,"交易记录功能即将开放")},className:"text-sm text-gold hover:text-gold-light",children:"查看全部"})]}),(0,a.jsx)("div",{className:"space-y-3",children:h.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-[#E8EAF0] last:border-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm ".concat("学习"===e.type?"bg-blue-100 text-blue-600":"签到"===e.type?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600"),children:"学习"===e.type?"\uD83D\uDCDA":"签到"===e.type?"✅":"\uD83D\uDCE3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-navy",children:e.course}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:e.date})]})]}),(0,a.jsxs)("span",{className:"text-sm font-bold text-green-600",children:[e.amount," LAC"]})]},t))})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-5",children:"\uD83D\uDCC5 签到统计"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"\uD83D\uDD25 连续签到"}),(0,a.jsxs)("span",{className:"text-xl font-black text-navy",children:[(null==p?void 0:p.checkin_streak)||0," 天"]})]}),(0,a.jsx)("div",{className:"h-px bg-[#E8EAF0]"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"\uD83D\uDCC5 本月已签到"}),(0,a.jsxs)("span",{className:"text-xl font-black text-navy",children:[(null==p?void 0:p.monthly_checkins)||0," 天"]})]}),(0,a.jsx)("div",{className:"h-px bg-[#E8EAF0]"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"\uD83D\uDCB0 签到收益"}),(0,a.jsxs)("span",{className:"text-xl font-black gold-text",children:[(null==p||null==(s=p.checkin_earnings)?void 0:s.toLocaleString())||"0"," LAC"]})]})]})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-5",children:"\uD83D\uDC65 邀请统计"}),z?(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-gold/30 border-t-gold rounded-full animate-spin mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"加载中..."})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"\uD83D\uDD17 我的邀请码"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded font-mono",children:E||"未生成"}),(0,a.jsx)("button",{onClick:()=>{E&&(navigator.clipboard.writeText(E),alert("邀请码已复制到剪贴板！"))},disabled:!E,className:"text-xs text-gold hover:text-gold-light disabled:text-gray-400",children:"复制"})]})]}),(0,a.jsx)("div",{className:"h-px bg-[#E8EAF0]"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"\uD83D\uDC65 已邀请人数"}),(0,a.jsx)("span",{className:"text-xl font-black text-navy",children:(null==A?void 0:A.total_invites)||0})]}),(0,a.jsx)("div",{className:"h-px bg-[#E8EAF0]"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"\uD83D\uDCB0 邀请收益"}),(0,a.jsxs)("span",{className:"text-xl font-black gold-text",children:[(null==A||null==(n=A.total_rewards)?void 0:n.toLocaleString())||"0"," LAC"]})]}),(0,a.jsx)("button",{onClick:U,className:"w-full btn btn-ghost btn-sm mt-4",children:"生成新邀请码"})]})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-5",children:"\uD83C\uDFC6 成就徽章"}),q?(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-gold/30 border-t-gold rounded-full animate-spin mx-auto mb-2"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"加载中..."})]}):0===F.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\uD83C\uDFAF"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"暂无解锁成就"}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"继续学习解锁更多成就"})]}):(0,a.jsx)("div",{className:"space-y-3",children:F.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"w-10 h-10 rounded-xl bg-gold/10 flex items-center justify-center text-lg flex-shrink-0",children:e.icon||"\uD83C\uDFC6"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-navy",children:e.title||e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:e.description||e.desc}),(0,a.jsx)("div",{className:"text-xs text-gray-300",children:e.unlocked_at?new Date(e.unlocked_at).toLocaleDateString():e.date})]})]},e.id||t))})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-5",children:"⚡ 快捷操作"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(i(),{href:"/learn",className:"w-full btn btn-secondary btn-sm block text-center",children:"\uD83D\uDCDA 继续学习"}),(0,a.jsx)(i(),{href:"/checkin",className:"w-full btn btn-secondary btn-sm block text-center",children:"✅ 每日签到"}),(0,a.jsx)("button",{onClick:()=>{var e,t;return null==(e=(t=window).__toast)?void 0:e.call(t,"提现功能即将开放")},className:"w-full btn btn-secondary btn-sm",children:"\uD83D\uDCB1 提现LAC"}),(0,a.jsx)("button",{onClick:()=>{var e,t;return null==(e=(t=window).__toast)?void 0:e.call(t,"设置功能即将开放")},className:"w-full btn btn-ghost btn-sm",children:"\uD83D\uDD27 设置"})]})]})]})]})})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("section",{className:"pt-32 pb-16 lg:pb-20 bg-gradient-to-b from-white to-surface",children:(0,a.jsxs)("div",{className:"max-w-[1200px] mx-auto px-6 text-center",children:[(0,a.jsx)("span",{className:"section-label justify-center",children:"Profile"}),(0,a.jsx)("h1",{className:"text-4xl lg:text-[56px] font-black text-navy leading-[1.1] mb-6 tracking-tight",children:"个人中心"}),(0,a.jsx)("p",{className:"text-lg text-gray-500 max-w-[680px] mx-auto leading-relaxed",children:"登录后查看你的学习进度和收益详情"})]})}),(0,a.jsx)("section",{className:"py-16 lg:py-24",children:(0,a.jsx)("div",{className:"max-w-[600px] mx-auto px-6",children:(0,a.jsxs)("div",{className:"card p-12 text-center",children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-full bg-surface flex items-center justify-center text-5xl mx-auto mb-6",children:"\uD83D\uDD12"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-navy mb-4",children:"需要先登录"}),(0,a.jsx)("p",{className:"text-gray-500 mb-8 leading-relaxed",children:"连接你的钱包或使用邮箱登录，开始你的LAC之旅"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,a.jsx)(i(),{href:"/login",className:"btn btn-primary btn-lg",children:"✉️ 邮箱登录"}),(0,a.jsx)(i(),{href:"/register",className:"btn btn-secondary btn-lg",children:"\uD83D\uDC4B 立即注册"})]}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-6",children:"支持 MetaMask、Phantom、WalletConnect 等主流钱包"})]})})})]})}},1587:(e,t,s)=>{Promise.resolve().then(s.bind(s,928))},6707:(e,t,s)=>{"use strict";s.d(t,{A:()=>i,AuthProvider:()=>c});var a=s(5155),l=s(2115);let n=(0,l.createContext)(void 0),i=()=>{let e=(0,l.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},c=e=>{let{children:t}=e,[s,i]=(0,l.useState)(!1),[c,r]=(0,l.useState)(""),[d,o]=(0,l.useState)(null),[x,m]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{(async()=>{let e=localStorage.getItem("lac_token");if(!e)return m(!1);try{let t=await fetch("".concat("https://ygfprjmevukjzwaqlblf.supabase.co","/functions/v1/user-profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){let s=await t.json();i(!0),r(s.username||"用户"),o(e)}else localStorage.removeItem("lac_token"),i(!1)}catch(e){i(!1)}finally{m(!1)}})()},[]),(0,a.jsx)(n.Provider,{value:{isLoggedIn:s,username:c,token:d,login:(e,t)=>{localStorage.setItem("lac_token",e),o(e),r(t),i(!0)},logout:()=>{localStorage.removeItem("lac_token"),o(null),r(""),i(!1)},loading:x},children:t})}},7621:(e,t,s)=>{"use strict";s.d(t,{H1:()=>r,KX:()=>m,LQ:()=>d,Ne:()=>c,Qn:()=>o,SO:()=>h,_O:()=>i,is:()=>g,mi:()=>n,vI:()=>u,zV:()=>x});let a={baseUrl:"https://ygfprjmevukjzwaqlblf.supabase.co",anonKey:"sb_publishable_rQWUHvRwwslnMTy_l3ry8Q_M9V47mD3"},l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(a.baseUrl,"/functions/v1/").concat(e),l={headers:{"Content-Type":"application/json",apikey:a.anonKey||"",...t.headers},...t},n=await fetch(s,l);if(!n.ok)throw Error("API call failed: ".concat(n.status," ").concat(n.statusText));return n.json()},n={async getLeaderboard(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"checkin",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return l("leaderboard?type=".concat(e,"&limit=").concat(t))}},i={async list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return l("community-qa",{method:"POST",body:JSON.stringify({action:"list",limit:e})})},create:async e=>l("community-qa",{method:"POST",body:JSON.stringify({action:"create",...e})}),answer:async(e,t)=>l("community-qa",{method:"POST",body:JSON.stringify({action:"answer",question_id:e,answer:t})})},c={async list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return l("prompt-market",{method:"POST",body:JSON.stringify({action:"list",page:e,limit:t})})},detail:async e=>l("prompt-market",{method:"POST",body:JSON.stringify({action:"detail",template_id:e})}),submit:async e=>l("prompt-market",{method:"POST",body:JSON.stringify({action:"submit",...e})}),purchase:async e=>l("prompt-market",{method:"POST",body:JSON.stringify({action:"purchase",template_id:e})})},r={getProfile:async e=>l("user-profile",{headers:{Authorization:"Bearer ".concat(e)}}),updateProfile:async(e,t)=>l("user-profile",{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:JSON.stringify(t)})},d={getStats:async e=>l("invite-system",{method:"POST",body:JSON.stringify({action:"stats",user_id:e})}),generate:async e=>l("invite-system",{method:"POST",body:JSON.stringify({action:"generate",user_id:e})}),getInviteCode:async e=>l("invite-system",{method:"POST",body:JSON.stringify({action:"get_code",user_id:e})})},o={list:async e=>l("achievement-unlock",{method:"POST",body:JSON.stringify({action:"list",user_id:e})}),unlock:async(e,t)=>l("achievement-unlock",{method:"POST",body:JSON.stringify({action:"unlock",user_id:e,achievement_id:t})})},x={donate:async(e,t,s)=>l("charity-donate",{method:"POST",body:JSON.stringify({action:"donate",token:e,project_id:t,amount:s})}),history:async e=>l("charity-donate",{method:"POST",body:JSON.stringify({action:"history",token:e})}),listProjects:async()=>l("charity-project",{method:"POST",body:JSON.stringify({action:"list"})}),projectDetail:async e=>l("charity-project",{method:"POST",body:JSON.stringify({action:"detail",project_id:e})})},m={submit:async e=>l("content-submit",{method:"POST",body:JSON.stringify({action:"submit",...e})}),list:async e=>l("content-submit",{method:"POST",body:JSON.stringify({action:"list",user_id:e})})},h={checkin:async e=>l("mining-checkin",{method:"POST",body:JSON.stringify({action:"checkin",token:e})}),status:async e=>l("mining-checkin",{method:"POST",body:JSON.stringify({action:"status",token:e})}),streak:async e=>l("mining-streak-simple",{method:"POST",body:JSON.stringify({action:"status",token:e})})},u={complete:async(e,t)=>l("mining-learn",{method:"POST",body:JSON.stringify({action:"complete",token:e,course_id:t})})},g={getQuiz:async e=>l("quiz-system",{method:"POST",body:JSON.stringify({action:"get_quiz",course_id:e})}),submitQuiz:async(e,t,s)=>l("quiz-system",{method:"POST",body:JSON.stringify({action:"submit",token:e,course_id:t,answers:s})})}},7737:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(5155),l=s(5955),n=s(8183),i=s(2115);function c(e){let{className:t="",size:s="md"}=e,{publicKey:c,connecting:r,connected:d,disconnect:o}=(0,l.v)(),{visible:x,setVisible:m}=(0,n.o)(),[h,u]=(0,i.useState)(!1),g=e=>e?"".concat(e.slice(0,4),"...").concat(e.slice(-4)):"",y={sm:"btn-sm",md:"btn-md",lg:"btn-lg"};return r?(0,a.jsxs)("button",{disabled:!0,className:"btn btn-primary ".concat(y[s]," ").concat(t),children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"连接中..."]}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>{d&&c?u(!h):m(!0)},className:"btn ".concat(d?"btn-secondary border-gold text-gold hover:bg-gold hover:text-white":"btn-primary"," ").concat(y[s]," ").concat(t),children:d&&c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),g(c.toString())]}):(0,a.jsx)(a.Fragment,{children:"\uD83D\uDCB0 连接钱包"})}),h&&d&&(0,a.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50",children:[(0,a.jsx)("div",{className:"px-4 py-2 text-sm text-gray-500 border-b border-gray-100",children:c&&g(c.toString())}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText((null==c?void 0:c.toString())||""),u(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\uD83D\uDCCB 复制地址"}),(0,a.jsx)("button",{onClick:()=>{o(),u(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"\uD83D\uDD0C 断开连接"})]}),h&&(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)})]})}},7790:()=>{}},e=>{e.O(0,[956,619,29,287,441,493,358],()=>e(e.s=1587)),_N_E=e.O()}]);