(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1290:()=>{},1725:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(5155),n=s(2619),a=s.n(n),l=s(2115),o=s(6707),i=s(7737);let d=[{href:"/",label:"首页"},{href:"/checkin",label:"签到"},{href:"/mining/learn",label:"学AI"},{href:"/mining/teach",label:"教AI"},{href:"/mining/create",label:"AI创造"},{href:"/community",label:"社区"},{href:"/whitepaper",label:"AI公益和创业"},{href:"/tokenomics",label:"AI币"}];function c(){let{isLoggedIn:e,username:t,logout:s,loading:n}=(0,o.A)(),[c,m]=(0,l.useState)(!1);return(0,r.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/85 backdrop-blur-xl border-b border-[#E8EAF0]/60 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"max-w-[1200px] mx-auto px-6 flex items-center justify-between h-[72px]",children:[(0,r.jsx)(a(),{href:"/",className:"flex items-center gap-3",children:(0,r.jsx)("img",{src:"/logo.png",alt:"LAC",width:48,height:48,className:"h-12 w-auto"})}),(0,r.jsx)("nav",{className:"hidden md:flex items-center gap-8",children:d.map(e=>(0,r.jsxs)(a(),{href:e.href,className:"text-sm font-medium text-gray-500 hover:text-navy relative group transition-colors duration-200",children:[e.label,(0,r.jsx)("span",{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-gold rounded scale-x-0 group-hover:scale-x-100 transition-transform duration-200"})]},e.href))}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,r.jsx)("button",{className:"btn btn-ghost btn-sm",children:"中 / EN"}),(0,r.jsx)(i.A,{size:"sm"}),n?(0,r.jsx)("div",{className:"w-8 h-8 border-2 border-gold/30 border-t-gold rounded-full animate-spin"}):e?(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(a(),{href:"/profile",className:"text-sm font-medium text-navy hover:text-gold",children:["\uD83D\uDC4B ",t]}),(0,r.jsx)("button",{onClick:s,className:"btn btn-ghost btn-sm text-red-500 hover:text-red-700",children:"退出"})]}):(0,r.jsx)(a(),{href:"/login",className:"btn btn-primary btn-md",children:"登录"})]}),(0,r.jsxs)("button",{className:"md:hidden flex flex-col gap-[5px] p-2",onClick:()=>m(!c),"aria-label":"菜单",children:[(0,r.jsx)("span",{className:"w-[22px] h-0.5 bg-navy rounded transition-all duration-300 ".concat(c?"rotate-45 translate-y-[7px]":"")}),(0,r.jsx)("span",{className:"w-[22px] h-0.5 bg-navy rounded transition-all duration-300 ".concat(c?"opacity-0":"")}),(0,r.jsx)("span",{className:"w-[22px] h-0.5 bg-navy rounded transition-all duration-300 ".concat(c?"-rotate-45 -translate-y-[7px]":"")})]})]}),c&&(0,r.jsxs)("div",{className:"md:hidden bg-white border-t border-[#E8EAF0] px-6 py-4 space-y-3",children:[d.map(e=>(0,r.jsx)(a(),{href:e.href,className:"block text-sm font-medium text-gray-600 hover:text-navy py-2",onClick:()=>m(!1),children:e.label},e.href)),(0,r.jsxs)("div",{className:"pt-3 border-t border-[#E8EAF0] space-y-3",children:[(0,r.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,r.jsx)("button",{className:"btn btn-ghost btn-sm",children:"中 / EN"}),(0,r.jsx)(i.A,{size:"sm",className:"flex-1"})]}),(0,r.jsx)("div",{className:"flex gap-3 items-center",children:n?(0,r.jsx)("div",{className:"w-6 h-6 border-2 border-gold/30 border-t-gold rounded-full animate-spin"}):e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{href:"/profile",className:"btn btn-ghost btn-sm",children:["\uD83D\uDC4B ",t]}),(0,r.jsx)("button",{onClick:()=>{s(),m(!1)},className:"btn btn-ghost btn-sm text-red-500",children:"退出"})]}):(0,r.jsx)(a(),{href:"/login",className:"btn btn-primary btn-sm flex-1",children:"登录"})})]})]})]})}},1907:(e,t,s)=>{"use strict";s.d(t,{ToastProvider:()=>o});var r=s(5155),n=s(2115);let a=(0,n.createContext)({showToast:()=>{}}),l=0;function o(e){let{children:t}=e,[s,o]=(0,n.useState)([]),i=(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=++l;o(r=>[...r,{id:s,message:e,type:t}]),setTimeout(()=>{o(e=>e.filter(e=>e.id!==s))},3e3)},[]);(0,n.useEffect)(()=>(window.__toast=e=>i(e,"info"),()=>{delete window.__toast}),[i]);let d={info:"ℹ️",success:"✅",warning:"⚠️",error:"❌"},c={info:"bg-navy",success:"bg-green-600",warning:"bg-amber-500",error:"bg-red-500"};return(0,r.jsxs)(a.Provider,{value:{showToast:i},children:[t,(0,r.jsx)("div",{className:"fixed top-20 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:s.map(e=>(0,r.jsxs)("div",{className:"".concat(c[e.type]," text-white px-5 py-3 rounded-xl shadow-lg text-sm font-medium flex items-center gap-2 animate-slide-in pointer-events-auto max-w-[360px]"),children:[(0,r.jsx)("span",{children:d[e.type]}),(0,r.jsx)("span",{children:e.message})]},e.id))})]})}},5202:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,1290,23)),Promise.resolve().then(s.bind(s,1725)),Promise.resolve().then(s.bind(s,1907)),Promise.resolve().then(s.bind(s,6707)),Promise.resolve().then(s.bind(s,8702)),Promise.resolve().then(s.t.bind(s,2619,23))},6707:(e,t,s)=>{"use strict";s.d(t,{A:()=>l,AuthProvider:()=>o});var r=s(5155),n=s(2115);let a=(0,n.createContext)(void 0),l=()=>{let e=(0,n.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},o=e=>{let{children:t}=e,[s,l]=(0,n.useState)(!1),[o,i]=(0,n.useState)(""),[d,c]=(0,n.useState)(null),[m,h]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{let e=localStorage.getItem("lac_token");if(!e)return h(!1);try{let t=await fetch("".concat("https://ygfprjmevukjzwaqlblf.supabase.co","/functions/v1/user-profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){let s=await t.json();l(!0),i(s.username||"用户"),c(e)}else localStorage.removeItem("lac_token"),l(!1)}catch(e){l(!1)}finally{h(!1)}})()},[]),(0,r.jsx)(a.Provider,{value:{isLoggedIn:s,username:o,token:d,login:(e,t)=>{localStorage.setItem("lac_token",e),c(e),i(t),l(!0)},logout:()=>{localStorage.removeItem("lac_token"),c(null),i(""),l(!1)},loading:m},children:t})}},7737:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(5155),n=s(5955),a=s(8183),l=s(2115);function o(e){let{className:t="",size:s="md"}=e,{publicKey:o,connecting:i,connected:d,disconnect:c}=(0,n.v)(),{visible:m,setVisible:h}=(0,a.o)(),[x,u]=(0,l.useState)(!1),b=e=>e?"".concat(e.slice(0,4),"...").concat(e.slice(-4)):"",g={sm:"btn-sm",md:"btn-md",lg:"btn-lg"};return i?(0,r.jsxs)("button",{disabled:!0,className:"btn btn-primary ".concat(g[s]," ").concat(t),children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"连接中..."]}):(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>{d&&o?u(!x):h(!0)},className:"btn ".concat(d?"btn-secondary border-gold text-gold hover:bg-gold hover:text-white":"btn-primary"," ").concat(g[s]," ").concat(t),children:d&&o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),b(o.toString())]}):(0,r.jsx)(r.Fragment,{children:"\uD83D\uDCB0 连接钱包"})}),x&&d&&(0,r.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50",children:[(0,r.jsx)("div",{className:"px-4 py-2 text-sm text-gray-500 border-b border-gray-100",children:o&&b(o.toString())}),(0,r.jsx)("button",{onClick:()=>{navigator.clipboard.writeText((null==o?void 0:o.toString())||""),u(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\uD83D\uDCCB 复制地址"}),(0,r.jsx)("button",{onClick:()=>{c(),u(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"\uD83D\uDD0C 断开连接"})]}),x&&(0,r.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)})]})}},7790:()=>{},8702:(e,t,s)=>{"use strict";s.d(t,{WalletContextProvider:()=>h});var r=s(5155),n=s(2115),a=s(4040),l=s(4534),o=s(2707),i=s(1964),d=s(7012),c=s(4402),m=s(5223);s(3355);let h=e=>{let{children:t}=e,s=a.B.Mainnet,h=(0,n.useMemo)(()=>(0,m.Kw)(s),[s]),x=(0,n.useMemo)(()=>[new d.c,new c.d],[s]);return(0,r.jsx)(l.S,{endpoint:h,children:(0,r.jsx)(o.r,{wallets:x,autoConnect:!0,children:(0,r.jsx)(i.I,{children:t})})})}}},e=>{e.O(0,[104,956,619,29,287,86,441,493,358],()=>e(e.s=5202)),_N_E=e.O()}]);