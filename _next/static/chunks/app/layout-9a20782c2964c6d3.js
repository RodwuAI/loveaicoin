(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1290:()=>{},1725:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var r=s(5155),a=s(2619),n=s.n(a),l=s(2115),o=s(6707),i=s(7737);let c=[{href:"/",label:"首页"},{href:"/checkin",label:"签到"},{href:"/mining/learn",label:"学AI"},{href:"/mining/teach",label:"教AI"},{href:"/mining/create",label:"AI创造"},{href:"/community",label:"社区"},{href:"/whitepaper",label:"AI公益和孵化"},{href:"/tokenomics",label:"AI币"}];function d(){let{isLoggedIn:e,username:t,logout:s,loading:a}=(0,o.A)(),[d,h]=(0,l.useState)(!1);return(0,r.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/85 backdrop-blur-xl border-b border-[#E8EAF0]/60 transition-all duration-300",children:[(0,r.jsxs)("div",{className:"max-w-[1200px] mx-auto px-6 flex items-center justify-between h-[72px]",children:[(0,r.jsx)(n(),{href:"/",className:"flex items-center gap-3",children:(0,r.jsx)("img",{src:"/logo.png",alt:"LAC",width:48,height:48,className:"h-12 w-auto"})}),(0,r.jsx)("nav",{className:"hidden md:flex items-center gap-8",children:c.map(e=>(0,r.jsxs)(n(),{href:e.href,className:"text-sm font-medium text-gray-500 hover:text-navy relative group transition-colors duration-200",children:[e.label,(0,r.jsx)("span",{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-gold rounded scale-x-0 group-hover:scale-x-100 transition-transform duration-200"})]},e.href))}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,r.jsx)("button",{className:"btn btn-ghost btn-sm",children:"中 / EN"}),(0,r.jsx)(i.A,{size:"sm"}),a?(0,r.jsx)("div",{className:"w-8 h-8 border-2 border-gold/30 border-t-gold rounded-full animate-spin"}):e?(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)(n(),{href:"/profile",className:"text-sm font-medium text-navy hover:text-gold",children:["\uD83D\uDC4B ",t]}),(0,r.jsx)("button",{onClick:s,className:"btn btn-ghost btn-sm text-red-500 hover:text-red-700",children:"退出"})]}):(0,r.jsx)(n(),{href:"/login",className:"btn btn-primary btn-md",children:"登录"})]}),(0,r.jsxs)("button",{className:"md:hidden flex flex-col gap-[5px] p-2",onClick:()=>h(!d),"aria-label":"菜单",children:[(0,r.jsx)("span",{className:"w-[22px] h-0.5 bg-navy rounded transition-all duration-300 ".concat(d?"rotate-45 translate-y-[7px]":"")}),(0,r.jsx)("span",{className:"w-[22px] h-0.5 bg-navy rounded transition-all duration-300 ".concat(d?"opacity-0":"")}),(0,r.jsx)("span",{className:"w-[22px] h-0.5 bg-navy rounded transition-all duration-300 ".concat(d?"-rotate-45 -translate-y-[7px]":"")})]})]}),d&&(0,r.jsxs)("div",{className:"md:hidden bg-white border-t border-[#E8EAF0] px-6 py-4 space-y-3",children:[c.map(e=>(0,r.jsx)(n(),{href:e.href,className:"block text-sm font-medium text-gray-600 hover:text-navy py-2",onClick:()=>h(!1),children:e.label},e.href)),(0,r.jsxs)("div",{className:"pt-3 border-t border-[#E8EAF0] space-y-3",children:[(0,r.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,r.jsx)("button",{className:"btn btn-ghost btn-sm",children:"中 / EN"}),(0,r.jsx)(i.A,{size:"sm",className:"flex-1"})]}),(0,r.jsx)("div",{className:"flex gap-3 items-center",children:a?(0,r.jsx)("div",{className:"w-6 h-6 border-2 border-gold/30 border-t-gold rounded-full animate-spin"}):e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n(),{href:"/profile",className:"btn btn-ghost btn-sm",children:["\uD83D\uDC4B ",t]}),(0,r.jsx)("button",{onClick:()=>{s(),h(!1)},className:"btn btn-ghost btn-sm text-red-500",children:"退出"})]}):(0,r.jsx)(n(),{href:"/login",className:"btn btn-primary btn-sm flex-1",children:"登录"})})]})]})]})}},4609:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,1290,23)),Promise.resolve().then(s.bind(s,1725)),Promise.resolve().then(s.bind(s,6707)),Promise.resolve().then(s.bind(s,8702)),Promise.resolve().then(s.t.bind(s,2619,23))},6707:(e,t,s)=>{"use strict";s.d(t,{A:()=>l,AuthProvider:()=>o});var r=s(5155),a=s(2115);let n=(0,a.createContext)(void 0),l=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},o=e=>{let{children:t}=e,[s,l]=(0,a.useState)(!1),[o,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),[p,f]=(0,a.useState)(null),[h,m]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{let e=localStorage.getItem("lac_token");if(!e)return m(!1);let u=localStorage.getItem("lac_username"),g=localStorage.getItem("lac_user_id");u&&(l(!0),i(u),f(g),d(e));try{let t=await fetch("".concat("https://ygfprjmevukjzwaqlblf.supabase.co","/functions/v1/user-profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){let s=await t.json(),v=s.data&&s.data.username||s.username||"用户",w=s.data&&s.data.id||s.id||null;l(!0),i(v),f(w),d(e),localStorage.setItem("lac_username",v),w&&localStorage.setItem("lac_user_id",w)}else localStorage.removeItem("lac_token"),localStorage.removeItem("lac_username"),localStorage.removeItem("lac_user_id"),l(!1)}catch(e){u||l(!1)}finally{m(!1)}})()},[]),(0,r.jsx)(n.Provider,{value:{isLoggedIn:s,username:o,userId:p,token:c,login:(e,t,u)=>{localStorage.setItem("lac_token",e),localStorage.setItem("lac_username",t),u&&localStorage.setItem("lac_user_id",u),d(e),i(t),u&&f(u),l(!0)},logout:()=>{localStorage.removeItem("lac_token"),localStorage.removeItem("lac_username"),localStorage.removeItem("lac_user_id"),d(null),i(""),f(null),l(!1)},loading:h},children:t})}},7737:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(5155),a=s(5955),n=s(8183),l=s(2115);function o(e){let{className:t="",size:s="md"}=e,{publicKey:o,connecting:i,connected:c,disconnect:d}=(0,a.v)(),{visible:h,setVisible:m}=(0,n.o)(),[x,b]=(0,l.useState)(!1),u=e=>e?"".concat(e.slice(0,4),"...").concat(e.slice(-4)):"",g={sm:"btn-sm",md:"btn-md",lg:"btn-lg"};return i?(0,r.jsxs)("button",{disabled:!0,className:"btn btn-primary ".concat(g[s]," ").concat(t),children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"连接中..."]}):(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>{c&&o?b(!x):m(!0)},className:"btn ".concat(c?"btn-secondary border-gold text-gold hover:bg-gold hover:text-white":"btn-primary"," ").concat(g[s]," ").concat(t),children:c&&o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),u(o.toString())]}):(0,r.jsx)(r.Fragment,{children:"\uD83D\uDCB0 连接钱包"})}),x&&c&&(0,r.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50",children:[(0,r.jsx)("div",{className:"px-4 py-2 text-sm text-gray-500 border-b border-gray-100",children:o&&u(o.toString())}),(0,r.jsx)("button",{onClick:()=>{navigator.clipboard.writeText((null==o?void 0:o.toString())||""),b(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:"\uD83D\uDCCB 复制地址"}),(0,r.jsx)("button",{onClick:()=>{d(),b(!1)},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"\uD83D\uDD0C 断开连接"})]}),x&&(0,r.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>b(!1)})]})}},7790:()=>{},8702:(e,t,s)=>{"use strict";s.d(t,{WalletContextProvider:()=>m});var r=s(5155),a=s(2115),n=s(4040),l=s(4534),o=s(2707),i=s(1964),c=s(7012),d=s(4402),h=s(5223);s(3355);let m=e=>{let{children:t}=e,s=n.B.Devnet,m=(0,a.useMemo)(()=>(0,h.Kw)(s),[s]),x=(0,a.useMemo)(()=>[new c.c,new d.d],[s]);return(0,r.jsx)(l.S,{endpoint:m,children:(0,r.jsx)(o.r,{wallets:x,autoConnect:!0,children:(0,r.jsx)(i.I,{children:t})})})}}},e=>{e.O(0,[104,956,619,29,287,86,441,493,358],()=>e(e.s=4609)),_N_E=e.O()}]);